# 🔑 Production API Keys Setup Guide

## Current Status: Using Test Keys ⚠️

The application is currently using test/development API keys. To enable real SMS verification functionality, you need to configure production API keys.

## Required API Keys

### 1. TextVerified API Key 📱
- **Service**: SMS verification provider
- **Website**: https://www.textverified.com/
- **Steps**:
  1. Create account at TextVerified
  2. Add funds to your account
  3. Get API key from dashboard
  4. Copy the API key (format: `tv_xxxxxxxxxx`)

### 2. Paystack API Keys 💳
- **Service**: Payment processing (Nigerian market)
- **Website**: https://dashboard.paystack.com/
- **Steps**:
  1. Create Paystack business account
  2. Complete KYC verification
  3. Get live API keys from Settings > API Keys
  4. Copy both keys:
     - Secret Key: `sk_live_xxxxxxxxxx`
     - Public Key: `pk_live_xxxxxxxxxx`

## Render Environment Variables Setup

### Step 1: Access Render Dashboard
1. Go to https://dashboard.render.com/
2. Select your Namaskah SMS service
3. Go to **Environment** tab

### Step 2: Add Environment Variables
```bash
# Core Configuration
ENVIRONMENT=production
DATABASE_URL=postgresql://postgres:ryskyx-8Padsa-timtabodh@db.oegyaxxlzmogrtgmhrcy.supabase.co:5432/postgres
BASE_URL=https://namaskahsms.onrender.com
CORS_ORIGINS=https://namaskahsms.onrender.com

# Security (Auto-generated by Render)
SECRET_KEY=your_32_character_secret_key
JWT_SECRET_KEY=your_32_character_jwt_secret

# SMS Service (Replace with real keys)
TEXTVERIFIED_API_KEY=your_real_textverified_api_key
TEXTVERIFIED_EMAIL=your_email@domain.com

# Payment Processing (Replace with real keys)
PAYSTACK_SECRET_KEY=sk_live_your_real_secret_key
PAYSTACK_PUBLIC_KEY=pk_live_your_real_public_key

# Optional: Email Service
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
FROM_EMAIL=noreply@namaskah.app
```

### Step 3: Deploy Changes
1. Click **Save Changes** in Render
2. Application will automatically redeploy
3. Wait 2-3 minutes for deployment to complete

## Testing Production Setup

### 1. Health Check
```bash
curl https://namaskahsms.onrender.com/system/health
```

### 2. API Key Validation
```bash
# Test TextVerified connection
curl -X GET "https://namaskahsms.onrender.com/verify/services" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# Test Paystack connection  
curl -X POST "https://namaskahsms.onrender.com/wallet/paystack/initialize" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"amount": 100}'
```

### 3. End-to-End SMS Test
1. Login to admin panel: https://namaskahsms.onrender.com/admin
2. Create test user with credits
3. Attempt SMS verification
4. Verify SMS is received

## Security Considerations

### API Key Security ✅
- Never commit real API keys to Git
- Use environment variables only
- Rotate keys regularly
- Monitor API usage

### Production Checklist ✅
- [ ] Real TextVerified API key configured
- [ ] Live Paystack keys configured  
- [ ] Database URL pointing to Supabase
- [ ] CORS origins set correctly
- [ ] SSL/HTTPS enabled
- [ ] Error monitoring active

## Cost Estimates

### TextVerified Costs
- **SMS Verification**: $0.10 - $0.50 per verification
- **Voice Verification**: $0.20 - $1.00 per verification
- **Minimum Deposit**: $10

### Paystack Costs
- **Transaction Fee**: 1.5% + ₦100 per transaction
- **No Setup Fee**: Free to start
- **Settlement**: T+1 business days

## Troubleshooting

### Common Issues

**1. "Invalid API Key" Error**
- Verify API key format is correct
- Check if key has sufficient permissions
- Ensure no extra spaces in environment variable

**2. "Insufficient Balance" Error**
- Add funds to TextVerified account
- Check account balance in dashboard

**3. "Payment Failed" Error**
- Verify Paystack live keys are used
- Check if business account is verified
- Ensure webhook URL is configured

### Support Contacts
- **TextVerified**: support@textverified.com
- **Paystack**: support@paystack.com
- **Render**: support@render.com

## Next Steps After Setup

1. **Monitor Usage**: Track API calls and costs
2. **Set Alerts**: Configure low balance notifications
3. **Scale Planning**: Monitor user growth and usage patterns
4. **Backup Strategy**: Ensure data backup procedures
5. **Performance Monitoring**: Set up application monitoring

---

**Status**: Ready for production API key configuration
**Estimated Setup Time**: 30 minutes
**Go-Live Timeline**: Same day after key configuration